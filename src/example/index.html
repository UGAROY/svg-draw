<!DOCTYPE html>
<html lang="en">
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Sample Svg Draw</title>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" href="colorpicker/css/bootstrap-colorpicker.min.css">
    <link rel="stylesheet" href="app.css">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  
  <body>
    <div id="canvas"></div>
    <!-- Modal -->
    <div class="modal fade" id="loadShape" tabindex="-1" role="dialog" aria-labelledby="loadShapeLabel">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title" id="loadShapeLabel">Load Shape</h4>
          </div>
          <div class="modal-body">
            <textarea id="shapeData" rows="10" cols="78">
              [{"type":"rect","x":368,"y":196,"width":111,"height":71,"stroke":"#000000","stroke-width":1,"fill":"#FFFFFF","transform":""},{"type":"ellipse","x":0,"y":0,"width":0,"height":0,"stroke":"#000000","stroke-width":1,"fill":"#1b42cc","transform":"T0,47","rx":60,"ry":89,"cx":422,"cy":313},{"type":"path","x":0,"y":0,"width":0,"height":0,"stroke":"#000000","stroke-width":1,"fill":"#1b42cc","transform":"","path":[["M",343,291],["L",343,291],["L",343,290],["L",340,290],["L",337,290],["L",333,290],["L",329,290],["L",321,290],["L",317,290],["L",312,290],["L",304,292],["L",295,293],["L",290,295],["L",284,296],["L",277,299],["L",271,300],["L",264,302],["L",259,305],["L",254,307],["L",247,310],["L",244,311],["L",240,313],["L",236,318],["L",231,321],["L",227,325],["L",224,329],["L",221,332],["L",220,335],["L",220,339],["L",220,342],["L",220,343],["L",218,347],["L",214,352],["L",213,355],["L",213,356],["L",213,357],["L",213,358],["L",213,359],["L",213,362],["L",213,363],["L",213,365],["L",213,366],["L",214,367],["L",217,368],["L",220,369],["L",223,369],["L",227,369],["L",229,369],["L",234,369],["L",236,368],["L",237,368],["L",238,368],["L",240,367],["L",241,367],["L",244,367],["L",249,366],["L",255,364],["L",260,361],["L",261,361],["L",264,358],["L",268,356],["L",273,352],["L",275,350],["L",282,343],["L",285,339],["L",289,336],["L",291,334],["L",292,331],["L",293,330],["L",294,328],["L",296,326],["L",299,324],["L",304,322],["L",307,319],["L",310,316],["L",310,315],["L",313,313],["L",316,311],["L",322,308],["L",325,307],["L",330,304],["L",333,303],["L",338,299],["L",341,297],["L",343,295],["L",344,294]]},{"type":"path","x":0,"y":0,"width":0,"height":0,"stroke":"#000000","stroke-width":1,"fill":"#1b42cc","transform":"","path":[["M",529,291],["L",529,291],["L",529,291],["L",530,291],["L",532,291],["L",536,293],["L",537,295],["L",539,296],["L",543,300],["L",545,303],["L",547,305],["L",552,310],["L",556,318],["L",561,325],["L",566,331],["L",570,338],["L",575,342],["L",579,347],["L",580,350],["L",582,354],["L",584,358],["L",585,361],["L",586,366],["L",586,369],["L",587,373],["L",589,381],["L",590,388],["L",590,393],["L",590,399],["L",590,402],["L",589,407],["L",586,411],["L",585,413],["L",584,414],["L",583,414],["L",580,414],["L",577,414],["L",573,414],["L",571,414],["L",569,414],["L",567,414],["L",564,414],["L",563,414],["L",560,414],["L",559,414],["L",558,414],["L",556,414],["L",555,414],["L",554,414],["L",553,413],["L",551,411],["L",551,410],["L",550,408],["L",549,406],["L",548,405],["L",547,402],["L",546,400],["L",544,396],["L",544,394],["L",544,393],["L",544,392],["L",544,390],["L",541,383],["L",541,379],["L",541,378],["L",541,376],["L",541,374],["L",540,373]]},{"type":"line","x":0,"y":0,"width":0,"height":0,"stroke":"#000000","stroke-width":"10","fill":"#1b42cc","transform":"","path":[["M",362,448],["L",248,618]]},{"type":"line","x":0,"y":0,"width":0,"height":0,"stroke":"#000000","stroke-width":"10","fill":"#1b42cc","transform":"","path":[["M",476,463],["L",594,635]]},{"type":"line","x":0,"y":0,"width":0,"height":0,"stroke":"#000000","stroke-width":"10","fill":"#1b42cc","transform":"","path":[["M",657,320],["L",656,321]]}]
            </textarea>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="loadShape()">Load</button>
          </div>
        </div>
      </div>
    </div>
    <div>
      <b>Drawing Mode:</b> 
      <div class="btn-group drawing-btn-group" role="group" aria-label="...">
        <button type="button" class="btn btn-default" onclick="setMode('select')">
          <span class="glyphicon glyphicon-hand-up" aria-hidden="true"></span>Select</button>
        <button type="button" class="btn btn-default" onclick="setMode('rect')">
          <span class="glyphicon glyphicon-stop" aria-hidden="true"></span>Rectange</button>
        <button type="button" class="btn btn-default" onclick="setMode('ellipse')">
          <span class="glyphicon glyphicon-unchecked" aria-hidden="true"></span>Ellipse</button>
        <button type="button" class="btn btn-default" onclick="setMode('line')">
          <span class="glyphicon glyphicon-minus" aria-hidden="true"></span>Line</button>
        <button type="button" class="btn btn-default" onclick="setMode('path')">
          <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>Path
        </button>
        <button type="button" class="btn btn-default" onclick="setMode('text')">
          <span class="glyphicon glyphicon-text-width" aria-hidden="true"></span>Text
        </button>
        <button type="button" class="btn btn-default" onclick="setMode('delete')">
          <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>Delete
        </button>
        <button type="button" class="btn btn-default"data-toggle="modal" data-target="#loadShape">
          <span class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span>Load
        </button>
      </div>
    </div>
    <div>
      <b>Stroke Color:</b> 
      <div class="input-group stroke-color-picker">
        <input type="text" value="#000000" class="form-control"/>
        <span class="input-group-addon"><i></i></span>
      </div>
    </div>
    <div>
      <b>Fill Color:</b> 
      <div class="input-group fill-color-picker">
        <input type="text" value="#FFFFFF" class="form-control"/>
        <span class="input-group-addon"><i></i></span>
      </div>
    </div>
    <div>
      <b>Stroke Width:</b> 
      <div class="input-group">
        <input type="number" value="1" class="form-control" onchange="editor.set('stroke-width', this.value)"/>
      </div>
    </div>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <script src="colorpicker/js/bootstrap-colorpicker.min.js"></script>
    <script src="../lib/raphael-min.js"></script>
    <script src="../../dist/svg-draw.min.js"></script>
    <script type="text/javascript">
      $(function(){
          $('.stroke-color-picker').colorpicker().on('changeColor.colorpicker', function(event){
            editor.set('stroke', event.color.toHex());
          });
          $('.fill-color-picker').colorpicker().on('changeColor.colorpicker', function(event){
            editor.set('fill', event.color.toHex());
          });
      });
      function loadShape(val) {
        editor.load($('#shapeData').val());
      }
      function setMode(mode) {
        if (mode === "delete") {
          editor.delete();
        }
        if (mode === "text") {
          editor.prop.text = prompt("Text:", editor.prop.text)
        } 
        editor.setMode(mode);
      }
      $(document).ready(function () {
            editor = new VectorEditor.Editor(document.getElementById("canvas"));
            setMode("select");
        });
        $(window).resize(function () {
            editor.paper.setSize($(window).width(), $(window).height())
        });
    </script>
  </body>

</html>